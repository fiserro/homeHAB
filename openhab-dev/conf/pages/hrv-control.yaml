uid: hrv-control
props:
  parameterGroups: []
  parameters: []
tags: []
config:
  label: HRV Control
  icon: f7:wind
  order: 1
blocks:
  - component: oh-grid-row
    config: {}
    slots:
      default:
        - component: oh-grid-col
          config:
            width: "100"
          slots:
            default:
              - component: oh-list-card
                config:
                  title: HRV Configuration
                  subtitle: Heat Recovery Ventilator Settings
                  icon: f7:wind
                slots:
                  default:
                    - component: oh-label-item
                      config:
                        item: hrvOutputPower
                        title: HRV Output Power
                        icon: f7:gauge_badge_plus

  # === MODES SECTION ===
  - component: oh-grid-row
    config: {}
    slots:
      default:
        - component: oh-grid-col
          config:
            width: "100"
          slots:
            default:
              - component: oh-list-card
                config:
                  title: Modes
                  icon: f7:switch_2
                slots:
                  default:
                    - component: oh-toggle-item
                      config:
                        item: manualMode
                        title: Manual Mode

                    - component: oh-toggle-item
                      config:
                        item: boostMode
                        title: Boost Mode

                    - component: oh-toggle-item
                      config:
                        item: temporaryManualMode
                        title: Temporary Manual Mode

                    - component: oh-toggle-item
                      config:
                        item: temporaryBoostMode
                        title: Temporary Boost Mode

  # === THRESHOLDS SECTION ===
  - component: oh-grid-row
    config: {}
    slots:
      default:
        - component: oh-grid-col
          config:
            width: "100"
          slots:
            default:
              - component: oh-list-card
                config:
                  title: Thresholds
                  icon: f7:gauge
                slots:
                  default:
                    - component: oh-stepper-item
                      config:
                        item: humidityThreshold
                        title: Humidity Threshold
                        subtitle: Trigger level for humidity-based ventilation
                        min: 40
                        max: 80
                        step: 5
                        unit: "%"

                    - component: oh-stepper-item
                      config:
                        item: co2ThresholdLow
                        title: CO2 Threshold Low
                        subtitle: Low CO2 level threshold
                        min: 400
                        max: 800
                        step: 50
                        unit: ppm

                    - component: oh-stepper-item
                      config:
                        item: co2ThresholdMid
                        title: CO2 Threshold Mid
                        subtitle: Medium CO2 level threshold
                        min: 600
                        max: 1000
                        step: 50
                        unit: ppm

                    - component: oh-stepper-item
                      config:
                        item: co2ThresholdHigh
                        title: CO2 Threshold High
                        subtitle: High CO2 level threshold
                        min: 800
                        max: 1500
                        step: 50
                        unit: ppm

  # === POWER SETTINGS SECTION ===
  - component: oh-grid-row
    config: {}
    slots:
      default:
        - component: oh-grid-col
          config:
            width: "100"
          slots:
            default:
              - component: oh-list-card
                config:
                  title: Power Settings
                  icon: f7:bolt
                slots:
                  default:
                    - component: oh-slider-item
                      config:
                        item: basePower
                        title: Base Power
                        subtitle: Default ventilation power level
                        min: 0
                        max: 100
                        step: 5
                        unit: "%"

                    - component: oh-slider-item
                      config:
                        item: manualPower
                        title: Manual Mode Power
                        subtitle: Power level in manual mode
                        min: 0
                        max: 100
                        step: 5
                        unit: "%"

                    - component: oh-slider-item
                      config:
                        item: boostPower
                        title: Boost Mode Power
                        subtitle: Power level in boost mode
                        min: 0
                        max: 100
                        step: 5
                        unit: "%"

                    - component: oh-slider-item
                      config:
                        item: humidityPower
                        title: Humidity Power
                        subtitle: Power level when humidity threshold exceeded
                        min: 0
                        max: 100
                        step: 5
                        unit: "%"

                    - component: oh-slider-item
                      config:
                        item: co2PowerLow
                        title: CO2 Power Low
                        subtitle: Power level for low CO2 threshold
                        min: 0
                        max: 100
                        step: 5
                        unit: "%"

                    - component: oh-slider-item
                      config:
                        item: co2PowerMid
                        title: CO2 Power Mid
                        subtitle: Power level for medium CO2 threshold
                        min: 0
                        max: 100
                        step: 5
                        unit: "%"

                    - component: oh-slider-item
                      config:
                        item: co2PowerHigh
                        title: CO2 Power High
                        subtitle: Power level for high CO2 threshold
                        min: 0
                        max: 100
                        step: 5
                        unit: "%"

                    - component: oh-slider-item
                      config:
                        item: smokePower
                        title: Smoke Detector Power
                        subtitle: Power level when smoke detected
                        min: 0
                        max: 100
                        step: 5
                        unit: "%"

                    - component: oh-slider-item
                      config:
                        item: gasPower
                        title: Gas Detector Power
                        subtitle: Power level when gas detected
                        min: 0
                        max: 100
                        step: 5
                        unit: "%"

  # === DURATION SETTINGS SECTION ===
  - component: oh-grid-row
    config: {}
    slots:
      default:
        - component: oh-grid-col
          config:
            width: "100"
          slots:
            default:
              - component: oh-list-card
                config:
                  title: Duration Settings
                  icon: f7:timer
                slots:
                  default:
                    - component: oh-stepper-item
                      config:
                        item: temporaryManualModeDurationSec
                        title: Temporary Manual Mode Duration
                        subtitle: Duration in seconds (auto-off timer)
                        min: 300
                        max: 43200
                        step: 300
                        unit: sec

                    - component: oh-stepper-item
                      config:
                        item: temporaryBoostModeDurationSec
                        title: Temporary Boost Mode Duration
                        subtitle: Duration in seconds (auto-off timer)
                        min: 60
                        max: 3600
                        step: 60
                        unit: sec

